

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  

  <title>synthpops.contacts module &mdash; SynthPops  documentation</title>
  



<meta name="robots" content="none">
<meta http-equiv="refresh" content="0; URL=https://docs.idmod.org/projects/synthpops/en/latest/synthpops.contacts.html">




  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within SynthPops  documentation"
          href="_static/opensearch.xml"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="synthpops.data_distributions module" href="synthpops.data_distributions.html" />
    <link rel="prev" title="synthpops.contact_networks_industries module" href="synthpops.contact_networks_industries.html" />

<link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Open+Sans" rel="stylesheet">


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> SynthPops
          

          
            
            <img src="_static/IDM_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">SynthPops overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithm.html">SynthPops algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Using SynthPops</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="synthpops.api.html">synthpops.api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.base.html">synthpops.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.config.html">synthpops.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.contact_networks.html">synthpops.contact_networks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.contact_networks_industries.html">synthpops.contact_networks_industries module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">synthpops.contacts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.data_distributions.html">synthpops.data_distributions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.long_term_care_facilities.html">synthpops.long_term_care_facilities module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.plot_tools.html">synthpops.plot_tools module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.read_write.html">synthpops.read_write module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.sampling.html">synthpops.sampling module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.school_modules.html">synthpops.school_modules module</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthpops.version.html">synthpops.version module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SynthPops</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
    <li><a href="//idmod.org/documentation">IDM docs</a> &raquo;</li>
    <li><a href="index.html">SynthPops</a> &raquo;</li>
    
        <li><a href="modules.html">API reference</a> &raquo;</li>
    
    <li>synthpops.contacts module</li>

    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-synthpops.contacts">
<span id="synthpops-contacts-module"></span><h1>synthpops.contacts module<a class="headerlink" href="#module-synthpops.contacts" title="Permalink to this headline">¶</a></h1>
<p>Generate contacts between people in the population, with many options possible.</p>
<dl class="py function">
<dt id="synthpops.contacts.make_popdict">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_popdict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">uids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ages</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sexes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">state_location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">country_location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_demography</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">id_len</span><span class="o">=</span><span class="default_value">6</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_popdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary of n people with age, sex and loc keys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – number of people</p></li>
<li><p><strong>uids</strong> (<em>list</em>) – supplied uids of individuals</p></li>
<li><p><strong>ages</strong> (<em>list</em>) – supplied ages of individuals</p></li>
<li><p><strong>sexes</strong> (<em>list</em>) – supplied sexes of individuals</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
<li><p><strong>use_demography</strong> (<em>bool</em>) – If True, use demographic data</p></li>
<li><p><strong>id_len</strong> (<em>int</em>) – length of the uid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary where keys are the uid of each person and the values are another dictionary containing values for other attributes of the person</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_generic">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_generic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">network_distr_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_generic" title="Permalink to this definition">¶</a></dt>
<dd><p>Create contact network regardless of age, according to network distribution properties. Can be used by webapp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of all individuals</p></li>
<li><p><strong>network_distr_args</strong> (<em>dict</em>) – network distribution parameters dictionary for average_degree, network_type, and directionality</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of individuals with contacts drawn from given network distribution parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_without_social_layers_152">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_without_social_layers_152</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">n_contacts_dic</span></em>, <em class="sig-param"><span class="n">location</span></em>, <em class="sig-param"><span class="n">state_location</span></em>, <em class="sig-param"><span class="n">country_location</span></em>, <em class="sig-param"><span class="n">sheet_name</span></em>, <em class="sig-param"><span class="n">network_distr_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_without_social_layers_152" title="Permalink to this definition">¶</a></dt>
<dd><p>Create contact network according to overall age-mixing contact matrices. Does not capture clustering or microstructure,
therefore exact households, schools, or workplaces are not created. However, this does separate agents according to their
age and gives them contacts likely for their age. For all ages, the average number of contacts is constant with this
method, although location specific data may prove this to not be true.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of all individuals</p></li>
<li><p><strong>n_contacts_dic</strong> (<em>dict</em>) – number of contacts to draw on average by setting</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
<li><p><strong>sheet_name</strong> (<em>string</em>) – name of the sheet in the excel file with contact patterns</p></li>
<li><p><strong>network_distr_args</strong> (<em>dict</em>) – network distribution parameters dictionary for average_degree, network_type, and directionality, can also include powerlaw exponents,
block sizes (re: SBMs), clustering distribution, or other properties needed to generate network structures. Checkout
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators">https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators</a> for what’s possible
Default ‘network_type’ is ‘poisson_degree’ for Erdos-Renyi random graphs in large n limit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of individuals with attributes, including their age and the ids of their contacts drawn from given network distribution parameters and the ages of contacts drawn according to overall age mixing data.
A single social setting or layer of contacts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_with_social_layers_152">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_with_social_layers_152</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">n_contacts_dic</span></em>, <em class="sig-param"><span class="n">location</span></em>, <em class="sig-param"><span class="n">state_location</span></em>, <em class="sig-param"><span class="n">country_location</span></em>, <em class="sig-param"><span class="n">sheet_name</span></em>, <em class="sig-param"><span class="n">activity_args</span></em>, <em class="sig-param"><span class="n">network_distr_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_with_social_layers_152" title="Permalink to this definition">¶</a></dt>
<dd><p>Create contact network according to overall age-mixing contact matrices. Does not capture clustering or microstructure,
therefore exact households, schools, or workplaces are not created. However, this does separate agents according to their
age and gives them contacts likely for their age specified by the social settings they are likely to participate in.
For all ages, the average number of contacts is constant with this method, although location specific data very wel may
prove this to not be true. In general, college students may also be workers, however here they are only students and we
assume that any of their contacts in the work environment are likely to look like their contacts at school.</p>
<p>Essentially recreates an age-specific compartmental model’s concept of contacts but for an agent based modeling framework.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of all individuals</p></li>
<li><p><strong>n_contacts_dic</strong> (<em>dict</em>) – number of contacts to draw on average by setting</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
<li><p><strong>sheet_name</strong> (<em>string</em>) – name of the sheet in the excel file with contact patterns</p></li>
<li><p><strong>activity_args</strong> (<em>dict</em>) – dictionary of age bounds for participating in different activities like going to school or working, also student-teacher ratio</p></li>
<li><p><strong>network_distr_args</strong> (<em>dict</em>) – network distribution parameters dictionary for average_degree, network_type, and directionality, can also include powerlaw exponents,
block sizes (re: SBMs), clustering distribution, or other properties needed to generate network structures. Checkout
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators">https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators</a> for what’s possible
Default ‘network_type’ is ‘poisson_degree’ for Erdos-Renyi random graphs in large n limit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of individuals with contacts with attributes, including their age and the ids of their contacts drawn from given network distribution parameters and the ages of contacts drawn according to age mixing data.
Multiple social settings or layers so contacts are listed for different layers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_without_social_layers_and_sex">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_without_social_layers_and_sex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">n_contacts_dic</span></em>, <em class="sig-param"><span class="n">location</span></em>, <em class="sig-param"><span class="n">state_location</span></em>, <em class="sig-param"><span class="n">country_location</span></em>, <em class="sig-param"><span class="n">sheet_name</span></em>, <em class="sig-param"><span class="n">network_distr_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_without_social_layers_and_sex" title="Permalink to this definition">¶</a></dt>
<dd><p>Create contact network according to overall age-mixing contact matrices for the US. Does not capture clustering or microstructure, therefore
exact households, schools, or workplaces are not created. However, this does separate agents according to their age and gives them contacts
likely for their age. For all ages, the average number of contacts is constant, although location specific data may prove this to not be true.
Individuals also have a sex, though this in general does not have an impact on their contact patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of all individuals</p></li>
<li><p><strong>n_contacts_dic</strong> (<em>dict</em>) – number of contacts to draw on average by setting</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
<li><p><strong>sheet_name</strong> (<em>string</em>) – name of the sheet in the excel file with contact patterns</p></li>
<li><p><strong>network_distr_args</strong> (<em>dict</em>) – network distribution parameters dictionary for average_degree, network_type, and directionality, can also include powerlaw exponents,
block sizes (re: SBMs), clustering distribution, or other properties needed to generate network structures. Checkout
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators">https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators</a> for what’s possible
Default ‘network_type’ is ‘poisson_degree’ for Erdos-Renyi random graphs in large n limit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of individuals with attributes, including their age and the ids of their contacts drawn from given network distribution parameters and the ages of contacts drawn according to overall age mixing data.
A single social setting or layer of contacts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_with_social_layers_and_sex">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_with_social_layers_and_sex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">n_contacts_dic</span></em>, <em class="sig-param"><span class="n">location</span></em>, <em class="sig-param"><span class="n">state_location</span></em>, <em class="sig-param"><span class="n">country_location</span></em>, <em class="sig-param"><span class="n">sheet_name</span></em>, <em class="sig-param"><span class="n">activity_args</span></em>, <em class="sig-param"><span class="n">network_distr_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_with_social_layers_and_sex" title="Permalink to this definition">¶</a></dt>
<dd><p>Create contact network according to overall age-mixing contact matrices for the US.
Does not capture clustering or microstructure, therefore exact households, schools, or workplaces are not created.
However, this does separate agents according to their age and gives them contacts likely for their age specified by
the social settings they are likely to participate in. College students may also be workers, however here they are
only students and we assume that any of their contacts in the work environment are likely to look like their contacts at school.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of all individuals</p></li>
<li><p><strong>n_contacts_dic</strong> (<em>dict</em>) – number of contacts to draw on average by setting</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
<li><p><strong>sheet_name</strong> (<em>string</em>) – name of the sheet in the excel file with contact patterns</p></li>
<li><p><strong>activity_args</strong> (<em>dict</em>) – dictionary of age bounds for participating in different activities like going to school or working, also student-teacher ratio</p></li>
<li><p><strong>network_distr_args</strong> (<em>dict</em>) – network distribution parameters dictionary for average_degree, network_type, and directionality, can also include powerlaw exponents,
block sizes (re: SBMs), clustering distribution, or other properties needed to generate network structures. Checkout
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators">https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators</a> for what’s possible
Default ‘network_type’ is ‘poisson_degree’ for Erdos-Renyi random graphs in large n limit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of individuals with attributes, including their age and the ids of their contacts drawn from given network distribution parameters and the ages of contacts drawn according to age mixing data.
Multiple social settings or layers so contacts are listed for different layers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.rehydrate">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">rehydrate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.rehydrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate popdict with uids, ages and contacts from generated microstructure data
that was saved to data object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pop object</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Popdict (sc.objdict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.save_synthpop">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">save_synthpop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datadir</span></em>, <em class="sig-param"><span class="n">contacts</span></em>, <em class="sig-param"><span class="n">location</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.save_synthpop" title="Permalink to this definition">¶</a></dt>
<dd><p>Save pop data object to file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datadir</strong> (<em>string</em>) – file path to the data directory</p></li>
<li><p><strong>contacts</strong> (<em>dict</em>) – dictionary of people with contacts</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.create_reduced_contacts_with_group_types">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">create_reduced_contacts_with_group_types</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">group_1</span></em>, <em class="sig-param"><span class="n">group_2</span></em>, <em class="sig-param"><span class="n">setting</span></em>, <em class="sig-param"><span class="n">average_degree</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">p_matrix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force_cross_edges</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.create_reduced_contacts_with_group_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Create contacts between members of group 1 and group 2, fixing the average degree, and the
probability of an edge between any two groups controlled by p_matrix if provided.
Forces inter group edge for each individual in group 1 with force_cross_groups equal to True.
This means not everyone in group 2 will have a contact with group 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_1</strong> (<em>list</em>) – list of ids for group 1</p></li>
<li><p><strong>group_2</strong> (<em>list</em>) – list of ids for group 2</p></li>
<li><p><strong>average_degree</strong> (<em>int</em>) – average degree across group 1 and 2</p></li>
<li><p><strong>p_matrix</strong> (<em>np.ndarray</em>) – probability matrix for edges between any two groups</p></li>
<li><p><strong>force_cross_groups</strong> (<em>bool</em>) – If True, force each individual to have at least one contact with a member from the other group</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Popdict with edges added for nodes in the two groups.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method uses the Stochastic Block Model algorithm to generate contacts both between nodes in different groups</p>
<p>and for nodes within the same group. In the current version, fixing the average degree and p_matrix, the matrix of probabilities
for edges between any two groups is not supported. Future versions may add support for this.</p>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_from_microstructure">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_from_microstructure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datadir</span></em>, <em class="sig-param"><span class="n">location</span></em>, <em class="sig-param"><span class="n">state_location</span></em>, <em class="sig-param"><span class="n">country_location</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">with_non_teaching_staff</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">with_school_types</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">school_mixing_type</span><span class="o">=</span><span class="default_value">'random'</span></em>, <em class="sig-param"><span class="n">average_class_size</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">inter_grade_mixing</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">average_student_teacher_ratio</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">average_teacher_teacher_degree</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">average_student_all_staff_ratio</span><span class="o">=</span><span class="default_value">15</span></em>, <em class="sig-param"><span class="n">average_additional_staff_degree</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">school_type_by_age</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">with_industry_code</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_from_microstructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a popdict from synthetic household, school, and workplace files with uids. If with_industry_code is True, then individuals
will have a workplace industry code as well (default value is -1 to represent that this data is unavailable). Currently, industry
codes are only available to assign to populations within the US.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datadir</strong> (<em>string</em>) – The file path to the data directory</p></li>
<li><p><strong>location</strong> (<em>string</em>) – The name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – The name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – The name of the country the location is in</p></li>
<li><p><strong>n</strong> (<em>int</em>) – The number of people in the population</p></li>
<li><p><strong>with_non_teaching_staff</strong> (<em>bool</em>) – If True, includes non teaching staff.</p></li>
<li><p><strong>with_school_types</strong> (<em>bool</em>) – If True, creates explicit school types.</p></li>
<li><p><strong>school_mixing_type</strong> (<em>str</em><em> or </em><em>dict</em>) – The mixing type for schools, ‘random’, ‘age_clustered’, or ‘age_and_class_clustered’ if string, and a dictionary of these by school type otherwise. ‘random’ means random graphs for each school, ‘age_clustered’ means random graphs but with students mostly mixing within the age/grade (inter_grade_mixing controls mixing between grades), ‘age_and_grade_clustered’ means students cohorted into classes with their own teachers.</p></li>
<li><p><strong>average_class_size</strong> (<em>float</em>) – The average classroom size.</p></li>
<li><p><strong>inter_grade_mixing</strong> (<em>float</em>) – The average fraction of mixing between grades in the same school for clustered school mixing types.</p></li>
<li><p><strong>average_student_teacher_ratio</strong> (<em>float</em>) – The average number of students per teacher.</p></li>
<li><p><strong>average_teacher_teacher_degree</strong> (<em>float</em>) – The average number of contacts per teacher with other teachers.</p></li>
<li><p><strong>average_student_all_staff_ratio</strong> (<em>float</em>) – The average number of students per staff members at school (including both teachers and non teachers).</p></li>
<li><p><strong>average_additional_staff_degree</strong> (<em>float</em>) – The average number of contacts per additional non teaching staff in schools.</p></li>
<li><p><strong>with_industry_code</strong> (<em>bool</em>) – If True, assign workplace industry code read in from cached file</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, print debugging statements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A popdict of people with attributes. Dictionary keys are the IDs of individuals in the population and the values are a dictionary
for each individual with their attributes, such as age, household ID (hhid), school ID (scid), workplace ID (wpid), workplace
industry code (wpindcode) if available, and the IDs of their contacts in different layers. Different layers available are
households (‘H’), schools (‘S’), and workplaces (‘W’). Contacts in these layers are clustered and thus form a network composed of
groups of people interacting with each other. For example, all household members are contacts of each other, and everyone in the
same school is considered a contact of each other.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Methods to trim large groups of contacts down to better approximate a sense of close contacts (such as classroom sizes or
smaller work groups are available via sp.trim_contacts() - see below).</p>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_from_microstructure_objects">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_from_microstructure_objects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age_by_uid_dic</span></em>, <em class="sig-param"><span class="n">homes_by_uids</span></em>, <em class="sig-param"><span class="n">schools_by_uids</span></em>, <em class="sig-param"><span class="n">teachers_by_uids</span></em>, <em class="sig-param"><span class="n">workplaces_by_uids</span></em>, <em class="sig-param"><span class="n">non_teaching_staff_uids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">with_school_types</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">school_mixing_type</span><span class="o">=</span><span class="default_value">'random'</span></em>, <em class="sig-param"><span class="n">average_class_size</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">inter_grade_mixing</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">average_student_teacher_ratio</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">average_teacher_teacher_degree</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">average_student_all_staff_ratio</span><span class="o">=</span><span class="default_value">15</span></em>, <em class="sig-param"><span class="n">average_additional_staff_degree</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">school_type_by_age</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">workplaces_by_industry_codes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_from_microstructure_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>From microstructure objects (dictionary mapping ID to age, lists of lists in different settings, etc.), create a dictionary of individuals.
Each key is the ID of an individual which maps to a dictionary for that individual with attributes such as their age, household ID (hhid),
school ID (scid), workplace ID (wpid), workplace industry code (wpindcode) if available, and contacts in different layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>age_by_uid_dic</strong> (<em>dict</em>) – A dictionary mapping id to age for all individuals in the population</p></li>
<li><p><strong>homes_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist is a household and the IDs of the household members.</p></li>
<li><p><strong>schools_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a school and the ids of the students within it</p></li>
<li><p><strong>teachers_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a school and the ids of the teachers within it</p></li>
<li><p><strong>workplaces_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a workplace and the ids of the workers within it</p></li>
<li><p><strong>non_teaching_staff_uids</strong> (<em>list</em>) – None or a list of lists, where each sublist represents a school and the ids of the non teaching staff within it</p></li>
<li><p><strong>with_school_types</strong> (<em>bool</em>) – If True, creates explicit school types.</p></li>
<li><p><strong>school_mixing_type</strong> (<em>str</em><em> or </em><em>dict</em>) – The mixing type for schools, ‘random’, ‘age_clustered’, or ‘age_and_class_clustered’ if string, and a dictionary of these by school type otherwise. ‘random’ means random graphs for each school, ‘age_clustered’ means random graphs but with students mostly mixing within the age/grade (inter_grade_mixing controls mixing between grades), ‘age_and_grade_clustered’ means students cohorted into classes with their own teachers.</p></li>
<li><p><strong>average_class_size</strong> (<em>float</em>) – The average classroom size.</p></li>
<li><p><strong>inter_grade_mixing</strong> (<em>float</em>) – The average fraction of mixing between grades in the same school for clustered school mixing types.</p></li>
<li><p><strong>average_student_teacher_ratio</strong> (<em>float</em>) – The average number of students per teacher.</p></li>
<li><p><strong>average_teacher_teacher_degree</strong> (<em>float</em>) – The average number of contacts per teacher with other teachers.</p></li>
<li><p><strong>average_student_all_staff_ratio</strong> (<em>float</em>) – The average number of students per staff members at school (including both teachers and non teachers).</p></li>
<li><p><strong>average_additional_staff_degree</strong> (<em>float</em>) – The average number of contacts per additional non teaching staff in schools.</p></li>
<li><p><strong>school_type_by_age</strong> (<em>dict</em>) – A dictionary of probabilities for the school type likely for each age.</p></li>
<li><p><strong>workplaces_by_industry_codes</strong> (<em>np.ndarray</em><em> or </em><em>None</em>) – array with workplace industry code for each workplace</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, print debugging statements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A popdict of people with attributes. Dictionary keys are the IDs of individuals in the population and the values are a dictionary
for each individual with their attributes, such as age, household ID (hhid), school ID (scid), workplace ID (wpid), workplace
industry code (wpindcode) if available, and the IDs of their contacts in different layers. Different layers available are
households (‘H’), schools (‘S’), and workplaces (‘W’). Contacts in these layers are clustered and thus form a network composed of
groups of people interacting with each other. For example, all household members are contacts of each other, and everyone in the
same school is considered a contact of each other.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Methods to trim large groups of contacts down to better approximate a sense of close contacts (such as classroom sizes or
smaller work groups are available via sp.trim_contacts() - see below).</p>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_with_facilities_from_microstructure">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_with_facilities_from_microstructure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datadir</span></em>, <em class="sig-param"><span class="n">location</span></em>, <em class="sig-param"><span class="n">state_location</span></em>, <em class="sig-param"><span class="n">country_location</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">use_two_group_reduction</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">average_LTCF_degree</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">with_non_teaching_staff</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">with_school_types</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">school_mixing_type</span><span class="o">=</span><span class="default_value">'random'</span></em>, <em class="sig-param"><span class="n">average_class_size</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">inter_grade_mixing</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">average_student_teacher_ratio</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">average_teacher_teacher_degree</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">average_student_all_staff_ratio</span><span class="o">=</span><span class="default_value">15</span></em>, <em class="sig-param"><span class="n">average_additional_staff_degree</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">school_type_by_age</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_with_facilities_from_microstructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a popdict from synthetic household, school, and workplace files with uids. If with_industry_code is True, then individuals
will have a workplace industry code as well (default value is -1 to represent that this data is unavailable). Currently, industry
codes are only available to assign to populations within the US.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datadir</strong> (<em>string</em>) – file path to the data directory</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
<li><p><strong>n</strong> (<em>int</em>) – number of people in the population</p></li>
<li><p><strong>use_two_group_reduction</strong> (<em>bool</em>) – If True, create long term care facilities with reduced contacts across both groups</p></li>
<li><p><strong>average_LTCF_degree</strong> (<em>int</em>) – default average degree in long term care facilities</p></li>
<li><p><strong>with_non_teaching_staff</strong> (<em>bool</em>) – If True, includes non teaching staff.</p></li>
<li><p><strong>with_school_types</strong> (<em>bool</em>) – If True, creates explicit school types.</p></li>
<li><p><strong>school_mixing_type</strong> (<em>str</em><em> or </em><em>dict</em>) – The mixing type for schools, ‘random’, ‘age_clustered’, or ‘age_and_class_clustered’ if string, and a dictionary of these by school type otherwise. ‘random’ means random graphs for each school, ‘age_clustered’ means random graphs but with students mostly mixing within the age/grade (inter_grade_mixing controls mixing between grades), ‘age_and_grade_clustered’ means students cohorted into classes with their own teachers.</p></li>
<li><p><strong>average_class_size</strong> (<em>float</em>) – The average classroom size.</p></li>
<li><p><strong>inter_grade_mixing</strong> (<em>float</em>) – The average fraction of mixing between grades in the same school for clustered school mixing types.</p></li>
<li><p><strong>average_student_teacher_ratio</strong> (<em>float</em>) – The average number of students per teacher.</p></li>
<li><p><strong>average_teacher_teacher_degree</strong> (<em>float</em>) – The average number of contacts per teacher with other teachers.</p></li>
<li><p><strong>average_student_all_staff_ratio</strong> (<em>float</em>) – The average number of students per staff members at school (including both teachers and non teachers).</p></li>
<li><p><strong>average_additional_staff_degree</strong> (<em>float</em>) – The average number of contacts per additional non teaching staff in schools.</p></li>
<li><p><strong>school_type_by_age</strong> (<em>dict</em>) – A dictionary of probabilities for the school type likely for each age.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, print debugging statements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A popdict of people with attributes. Dictionary keys are the IDs of individuals in the population and the values are a dictionary
for each individual with their attributes, such as age, household ID (hhid), school ID (scid), workplace ID (wpid), workplace
industry code (wpindcode) if available, and the IDs of their contacts in different layers. Different layers available are
households (‘H’), schools (‘S’), and workplaces (‘W’), and long term care facilities (‘LTCF’). Contacts in these layers are clustered and thus form a network composed of
groups of people interacting with each other. For example, all household members are contacts of each other, and everyone in the
same school is considered a contact of each other. If use_two_group_reduction is True, then contracts within ‘LTCF’ are reduced
from fully connected.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Methods to trim large groups of contacts down to better approximate a sense of close contacts (such as classroom sizes or
smaller work groups are available via sp.trim_contacts() or sp.create_reduced_contacts_with_group_types(): see these methods for more details).</p>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts_with_facilities_from_microstructure_objects">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts_with_facilities_from_microstructure_objects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age_by_uid_dic</span></em>, <em class="sig-param"><span class="n">homes_by_uids</span></em>, <em class="sig-param"><span class="n">schools_by_uids</span></em>, <em class="sig-param"><span class="n">teachers_by_uids</span></em>, <em class="sig-param"><span class="n">workplaces_by_uids</span></em>, <em class="sig-param"><span class="n">facilities_by_uids</span></em>, <em class="sig-param"><span class="n">facilities_staff_uids</span></em>, <em class="sig-param"><span class="n">non_teaching_staff_uids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_two_group_reduction</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">average_LTCF_degree</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">with_school_types</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">school_mixing_type</span><span class="o">=</span><span class="default_value">'random'</span></em>, <em class="sig-param"><span class="n">average_class_size</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">inter_grade_mixing</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">average_student_teacher_ratio</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">average_teacher_teacher_degree</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">average_student_all_staff_ratio</span><span class="o">=</span><span class="default_value">15</span></em>, <em class="sig-param"><span class="n">average_additional_staff_degree</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">school_type_by_age</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">workplaces_by_industry_codes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts_with_facilities_from_microstructure_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>From microstructure objects (dictionary mapping ID to age, lists of lists in different settings, etc.), create a dictionary of individuals.
Each key is the ID of an individual which maps to a dictionary for that individual with attributes such as their age, household ID (hhid),
school ID (scid), workplace ID (wpid), workplace industry code (wpindcode) if available, and contacts in different layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>age_by_uid_dic</strong> (<em>dict</em>) – dictionary mapping id to age for all individuals in the population</p></li>
<li><p><strong>homes_by_uids</strong> (<em>list</em>) – A list of lists where each sublist is a household and the IDs of the household members.</p></li>
<li><p><strong>schools_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a school and the ids of the students and teachers within it</p></li>
<li><p><strong>teachers_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a school and the ids of the teachers within it</p></li>
<li><p><strong>workplaces_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a workplace and the ids of the workers within it</p></li>
<li><p><strong>facilities_by_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a skilled nursing or long term care facility and the ids of the residents living within it</p></li>
<li><p><strong>facilities_staff_uids</strong> (<em>list</em>) – A list of lists, where each sublist represents a skilled nursing or long term care facility and the ids of the staff working within it</p></li>
<li><p><strong>non_teaching_staff_uids</strong> (<em>list</em>) – None or a list of lists, where each sublist represents a school and the ids of the non teaching staff within it</p></li>
<li><p><strong>use_two_group_reduction</strong> (<em>bool</em>) – If True, create long term care facilities with reduced contacts across both groups</p></li>
<li><p><strong>average_LTCF_degree</strong> (<em>int</em>) – default average degree in long term care facilities</p></li>
<li><p><strong>with_school_types</strong> (<em>bool</em>) – If True, creates explicit school types.</p></li>
<li><p><strong>school_mixing_type</strong> (<em>str</em><em> or </em><em>dict</em>) – The mixing type for schools, ‘random’, ‘age_clustered’, or ‘age_and_class_clustered’ if string, and a dictionary of these by school type otherwise. ‘random’ means random graphs for each school, ‘age_clustered’ means random graphs but with students mostly mixing within the age/grade (inter_grade_mixing controls mixing between grades), ‘age_and_grade_clustered’ means students cohorted into classes with their own teachers.</p></li>
<li><p><strong>average_class_size</strong> (<em>float</em>) – The average classroom size.</p></li>
<li><p><strong>inter_grade_mixing</strong> (<em>float</em>) – The average fraction of mixing between grades in the same school for clustered school mixing types.</p></li>
<li><p><strong>average_student_teacher_ratio</strong> (<em>float</em>) – The average number of students per teacher.</p></li>
<li><p><strong>average_teacher_teacher_degree</strong> (<em>float</em>) – The average number of contacts per teacher with other teachers.</p></li>
<li><p><strong>average_student_all_staff_ratio</strong> (<em>float</em>) – The average number of students per staff members at school (including both teachers and non teachers).</p></li>
<li><p><strong>average_additional_staff_degree</strong> (<em>float</em>) – The average number of contacts per additional non teaching staff in schools.</p></li>
<li><p><strong>school_type_by_age</strong> (<em>dict</em>) – A dictionary of probabilities for the school type likely for each age.</p></li>
<li><p><strong>workplaces_by_industry_codes</strong> (<em>np.ndarray</em><em> or </em><em>None</em>) – array with workplace industry code for each workplace</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, print debugging statements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A popdict of people with attributes. Dictionary keys are the IDs of individuals in the population and the values are a dictionary
for each individual with their attributes, such as age, household ID (hhid), school ID (scid), workplace ID (wpid), workplace
industry code (wpindcode) if available, and the IDs of their contacts in different layers. Different layers available are
households (‘H’), schools (‘S’), and workplaces (‘W’), and long term care facilities (‘LTCF’). Contacts in these layers are clustered and thus form a network composed of
groups of people interacting with each other. For example, all household members are contacts of each other, and everyone in the
same school is considered a contact of each other. If use_two_group_reduction is True, then contracts within ‘LTCF’ are reduced
from fully connected.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Methods to trim large groups of contacts down to better approximate a sense of close contacts (such as classroom sizes or
smaller work groups are available via sp.trim_contacts() or sp.create_reduced_contacts_with_group_types(): see these methods for more details).</p>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_graphs">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_graphs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">layers</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_graphs" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a dictionary of Networkx by layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of individuals with attributes, including their age, household ID, school ID, workplace ID, and the ids of their contacts by layer</p></li>
<li><p><strong>layers</strong> (<em>list</em>) – list of contact layers</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Retuns:</dt><dd><p>Dictionary of Networkx graphs, one for each layer of contacts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.write_edgelists">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">write_edgelists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">layers</span></em>, <em class="sig-param"><span class="n">G_dic</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">state_location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">country_location</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.write_edgelists" title="Permalink to this definition">¶</a></dt>
<dd><p>Write edgelists for each layer of contacts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of individuals with attributes, including their age, household ID, school ID, workplace ID, and the ids of their contacts by layer</p></li>
<li><p><strong>layers</strong> (<em>list</em>) – list of contact layers</p></li>
<li><p><strong>G_dic</strong> (<em>dict</em>) – dictionary of Networkx graphs, one for each layer of contacts</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.make_contacts">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">make_contacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_contacts_dic</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">state_location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">country_location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sheet_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">options_args</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">activity_args</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">network_distr_args</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.make_contacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a list of contacts for everyone in the population. popdict is a
dictionary with N keys (one for each person), with subkeys for age, sex, location,
and potentially other factors. This function adds a new subkey, contacts, which
is a list of contact IDs for each individual. If directed=False (default),
if person A is a contact of person B, then person B is also a contact of person A.</p>
<p>Example output (input is the same, minus the “contacts” field):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">popdict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;8acf08f0&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">57</span><span class="p">,</span>
        <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">47.6062</span><span class="p">,</span> <span class="mf">122.3321</span><span class="p">),</span>
        <span class="s1">&#39;contacts&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">34</span><span class="p">}</span>
        <span class="p">},</span>
    <span class="s1">&#39;43da76b5&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span>
        <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">47.2473</span><span class="p">,</span> <span class="mf">122.6482</span><span class="p">),</span>
        <span class="s1">&#39;contacts&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">49</span><span class="p">}</span>
        <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary, should have ages of individuals if not using cached microstructure data</p></li>
<li><p><strong>n_contacts_dic</strong> (<em>dict</em>) – average number of contacts by setting</p></li>
<li><p><strong>location</strong> (<em>string</em>) – name of the location</p></li>
<li><p><strong>state_location</strong> (<em>string</em>) – name of the state the location is in</p></li>
<li><p><strong>country_location</strong> (<em>string</em>) – name of the country the location is in</p></li>
<li><p><strong>sheet_name</strong> (<em>string</em>) – name of the sheet in the excel file with contact patterns</p></li>
<li><p><strong>options_args</strong> (<em>dict</em>) – dictionary of flags to set different population and contact generating options</p></li>
<li><p><strong>activity_args</strong> (<em>dict</em>) – dictionary of age bounds for participating in different activities like going to school or working, also student-teacher ratio</p></li>
<li><p><strong>network_distr_args</strong> (<em>dict</em>) – network distribution parameters dictionary for average_degree, network_type, and directionality, can also include powerlaw exponents,
block sizes (re: SBMs), clustering distribution, or other properties needed to generate network structures. Checkout
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators">https://networkx.github.io/documentation/stable/reference/generators.html#module-networkx.generators</a> for what’s possible
Default ‘network_type’ is ‘poisson_degree’ for Erdos-Renyi random graphs in large n limit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of individuals with attributes, including their age and the ids of their contacts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.choose_contacts">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">choose_contacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">size</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.choose_contacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Numbafy np.random.choice(); about twice as fast</p>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.trim_contacts">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">trim_contacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">contacts</span></em>, <em class="sig-param"><span class="n">trimmed_size_dic</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_clusters</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.trim_contacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim down contacts in school or work environments from everyone.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contacts</strong> (<em>dict</em>) – dictionary of individuals with attributes, including their age and the ids of their contacts</p></li>
<li><p><strong>trimmed_size_dic</strong> (<em>dict</em>) – dictionary of threshold values for the number of contacts in school (‘S’) and work (‘W’) so that for individuals with more contacts than this, we select a smaller subset of contacts considerd close contacts</p></li>
<li><p><strong>use_clusters</strong> (<em>bool</em>) – If True, trimmed down contact networks will preserve clustering so that an individual’s close contacts in school or at work are also contacts of each other</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, print average number of close contacts in school and at work</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of individuals with attributes, including their age and the ids of their close contacts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="synthpops.contacts.show_layers">
<code class="sig-prename descclassname">synthpops.contacts.</code><code class="sig-name descname">show_layers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">popdict</span></em>, <em class="sig-param"><span class="n">show_ages</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_n</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthpops.contacts.show_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out the contacts for individuals in the different possible social settings or layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>popdict</strong> (<em>dict</em>) – dictionary of individuals with attributes, including their age and the ids of their close contacts</p></li>
<li><p><strong>show_ages</strong> (<em>bool</em>) – If True, show the ages of contacts, else show their ids</p></li>
<li><p><strong>show_n</strong> (<em>int</em>) – number of individuals to show contacts for</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="synthpops.data_distributions.html" class="btn btn-neutral float-right" title="synthpops.data_distributions module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="synthpops.contact_networks_industries.html" class="btn btn-neutral float-left" title="synthpops.contact_networks_industries module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Bill &amp; Melinda Gates Foundation. All rights reserved.

    </p>
  </div>
<p>SynthPops is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">Creative Commons
    Attribution-Noncommercial-ShareAlike 4.0 License</a>.</p>
<p>Send documentation feedback to <a href="mailto:feedback@idmod.org" target="_top">feedback@idmod.org</a>. If you have
    questions, email <a href="mailto:support@idmod.org" target="_top">support@idmod.org</a>.</p>
<p><a href="https://www.gatesfoundation.org/Privacy-and-Cookies-Notice">Privacy and Cookies Notice</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
<a href="https://www.gatesfoundation.org/Terms-of-Use">Terms of Use</a></p>


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>